%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  _____   ____  _____                                          %
% |_   _| /  __||  __ \    Institute of Computitional Physics   %
%   | |  |  /   | |__) |   Zuercher Hochschule Winterthur       %
%   | |  | (    |  ___/    (University of Applied Sciences)     %
%  _| |_ |  \__ | |        8401 Winterthur, Switzerland         %
% |_____| \____||_|                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Project     : Konzept BA Welti Keller
% Title       : 
% File        : software.tex Rev. 00
% Date        : 15.09.2014
% Author      : Tobias Welti
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Software-Konzept}\label{chap.software}


\section{Software-Stack}\label{sec.sw_stack}


\subsection{Überblick}\label{subsec.sw_ueberblick}


\subsection{Messdatenerfassung}\label{subsec.sw_messen}
Der NXP LPC4088 verfügt über einen 12-bit A/D-Wandler, der über einen Multiplexer auf acht Pins messen kann. Auf dem Quickstart Board stehen 6 Pins für A/D-Wandlung zur Verfügung. Für die geplante Anwendung reicht ein A/D-Eingang, da der g-Sensor die Beschleunigung nur auf einer Achse misst. Der A/D-Wandler des NXP LPC4088 wird mit einer Samplingrate von 10 kHz betrieben. Falls höhere Samplingraten nötig sind, kann der A/D-Wandler mit bis zu 400 kHz betrieben werden.



\subsection{Ereigniserkennung}\label{subsec.sw_ereignis}
Vom WSL wurde die Ereigniserkennung bisher mittels Hilbert-Transformation gelöst. Die Hilbert-Transformation liefert die umhüllende Kurve des gemessenen Signals. Überschreitet die Umhüllende den Threshold, markiert dies den Start eines neuen Ereignisses. Fällt die Umhüllende unter den Threshold, ist das Ereignis beendet. Da die Hilbert-Transformation grossen Rechenaufwand benötigt, lösen wir die Ereigniserkennung einfacher.


XXX Hier Bild einfügen der State Machine zur Ereigniserkennung XXX
XXX und den Beschreibenden Text dazu. XXX

\subsection{Timestamp}\label{subsec.sw_timestamp}


\subsection{Busprotokoll}\label{subsec.sw_busprotokoll}


\subsection{Filesystem}\label{subsec.sw_filesystem}


\subsection{UART-Kommandozeile}\label{subsec.sw_uart}


\section{Funktionalität}\label{sec.sw_funktionalitaet}


\section{Konfiguration}\label{sec.sw_konfiguration}
