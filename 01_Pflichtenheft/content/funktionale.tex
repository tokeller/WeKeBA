%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  _____   ____  _____                                          %
% |_   _| /  __||  __ \    Institute of Computitional Physics   %
%   | |  |  /   | |__) |   Zuercher Hochschule Winterthur       %
%   | |  | (    |  ___/    (University of Applied Sciences)     %
%  _| |_ |  \__ | |        8401 Winterthur, Switzerland         %
% |_____| \____||_|                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Project     : LaTeX doc Vorlage für Windows ProTeXt mit TexMakerX
% Title       : 
% File        : abstract.tex Rev. 00
% Date        : 23.4.12
% Author      : Remo Ritzmann
% Feedback bitte an Email: remo.ritzmann@pfunzle.ch
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\thispagestyle{empty}
\chapter*{Funktionale Anforderungen}\label{chap.funktionale}
\section{Datenlogger}
Busmaster

Uhrzeit verteilen. Wie wird Uhrzeit eingestellt? Setupfile auf SD-Karte? UART? Wie genau kann die Uhrzeit an die Sensoren übergeben werden?

Schnittstelle zum Steuerrechner. UART? Können hierüber auch Daten ausgelesen werden? Oder nur über SD-Karte?

Alle Files auf Karte schliessen, damit diese gewechselt werden kann.

Erkennen der angeschlossenen Sensoren, ID verteilen

Polling der Sensoren nach Daten. Token vergeben? Übermitteln in Zeitfenster, gewisse Datenmenge oder bis Daten fertig? Dürfen andere Sensoren verhungern=überlaufen? Welches Polling-Intervall?

Abspeichern der Daten. Flash oder SD-Karte? Bei Blackout: was passiert mit den Daten? Worst Case: Datenlogger crasht, wie können Daten ausgelesen werden?

Kontrolle über den Betriebsmodus der Sensoren: Nur Ereignisdaten von allen Sensoren oder Rohdaten von einem einzelnen Sensor? Rohdaten evtl. nur bei angeschlossenem Rechner wegen Speicherplatz, direkt auf Rechner übermitteln? (eher nicht, braucht wieder Protokoll, evtl noch Tool auf dem Rechner)

\section{Sensor}
Detektion und Aufzeichnung von Ereignissen mit Timestamp: Samplingrate? Auflösung? Benötigte Daten: Zeitpunkt, Dauer, Anzahl Peaks, höchster Peak. Allenfalls die Rohdaten der Ereignissse immer übermitteln, damit alle Ereignisse vollständig erfasst werden? Speichern dieser Daten bis zum nächsten Abruf der Daten. => Wie viel Speicher nötig? / Wie lange kann aufgezeichnet werden? Persistenter oder flüchtiger Speicher?

Übermittlung der Ereignisdaten bei Anfrage durch Datenlogger. Wie lange darf übermittelt werden? Gibt es bei zu vielen Ereignissen eine Möglichkeit, weniger Daten zu übermitteln? Welche Daten dürften in diesem Fall wegfallen?

Sondermodus: Aufzeichnung und Speicherung von Rohdaten. Annahme 12 bit/Sample bei 10kHz => 120 kbit/s => Kein Problem, CAN Bus kann bis 1 Mbit/s => es könnten unter Umständen sogar mehrere Sensoren Rohdaten übermitteln. Mit 1 GB Speicher auf dem Logger könnten etwas mehr als 19 Stunden aufgezeichnet werden (Ohne Timestamp). Es reicht ja eigentlich der Anfangstimestamp. Richtig so?XXX bitte nachrechnen

Übermittlung der Rohdaten bei Anfrage durch Datenlogger
